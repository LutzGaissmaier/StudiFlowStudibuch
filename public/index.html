<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudiFlow AI - Unified Dashboard</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="icon" href="icons/favicon.ico" type="image/x-icon">
    <script>
        // Redirect to unified dashboard
        window.location.href = '/unified-dashboard.html';
    </script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .loading-container {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
        }
        .loading-content h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        .loading-content p {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            opacity: 0.9;
        }
        .loading-content a {
            color: white;
            text-decoration: underline;
        }
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="loading-container">
        <div class="loading-content">
            <div class="spinner"></div>
            <h1>ğŸ“ StudiFlow AI</h1>
            <p>Weiterleitung zum Unified Dashboard...</p>
            <p><a href="/unified-dashboard.html">Hier klicken falls die Weiterleitung nicht funktioniert</a></p>
        </div>
    </div>
    

    <script>
        // Redirect to unified dashboard
        window.location.href = '/unified-dashboard.html';
    </script>
</body>
</html></old_str>


    <!-- Loading Screen -->
    <div id="loading-screen" style="display: none;" class="modal-backdrop">
        <div class="modal">
            <div class="modal-body text-center">
                <div class="loading-spinner"></div>
                <p>Lade StudiFlow AI System...</p>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="dashboard-header">
        <a href="/" class="header-brand">
            <div class="header-brand-icon">ğŸ“</div>
            <div>
                <div>StudiFlow AI Enterprise</div>
                <small style="font-size: var(--font-size-sm); font-weight: var(--font-weight-normal); opacity: 0.8;">Intelligente Social Media Automation</small>
            </div>
        </a>
        
        <div class="header-nav">
            <a href="/marketing-dashboard.html" class="btn btn-secondary btn-sm">ğŸ“Š Marketing Dashboard</a>
        </div>

        <div class="header-actions">
            <div class="badge badge-success" id="header-status">
                <span>â—</span>
                <span class="status-text">Verbinde...</span>
            </div>
            <button class="btn btn-primary btn-sm" id="refresh-all">ğŸ”„ Aktualisieren</button>
        </div>
    </header>

    <!-- Sidebar -->
    <aside class="dashboard-sidebar">
        <div class="sidebar-section">
            <h3 class="sidebar-title">Navigation</h3>
            <nav class="sidebar-nav">
                <a href="#dashboard" class="sidebar-nav-item active" data-section="dashboard">
                    <span class="sidebar-nav-icon">ğŸ“Š</span>
                    Dashboard
                </a>
                <a href="#magazine" class="sidebar-nav-item" data-section="magazine">
                    <span class="sidebar-nav-icon">ğŸ“°</span>
                    StudiBuch Magazin
                </a>
                <a href="#content" class="sidebar-nav-item" data-section="content">
                    <span class="sidebar-nav-icon">ğŸ“</span>
                    Content
                </a>
                <a href="#posts" class="sidebar-nav-item" data-section="posts">
                    <span class="sidebar-nav-icon">ğŸ“±</span>
                    Posts
                </a>
                <a href="#engagement" class="sidebar-nav-item" data-section="engagement">
                    <span class="sidebar-nav-icon">â¤ï¸</span>
                    Engagement
                </a>
                <a href="#analytics" class="sidebar-nav-item" data-section="analytics">
                    <span class="sidebar-nav-icon">ğŸ“ˆ</span>
                    Analytics
                </a>
                <a href="#settings" class="sidebar-nav-item" data-section="settings">
                    <span class="sidebar-nav-icon">âš™ï¸</span>
                    Settings
                </a>
            </nav>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="dashboard-main">
        
        <!-- Dashboard Section -->
        <section id="dashboard-section" class="section active">
            <div class="main-header">
                <h1 class="main-title">ğŸ“Š System Dashboard</h1>
                <p class="main-subtitle">Ãœberblick Ã¼ber alle StudiFlow AI Enterprise Funktionen</p>
            </div>

            <!-- Marketing Dashboard Highlight -->
            <div class="card" style="background: var(--gradient-primary); color: white; margin-bottom: var(--space-8);">
                <div class="card-body text-center">
                    <h3 style="color: white; margin-bottom: var(--space-4);">ğŸ¯ Neu: Marketing Dashboard verfÃ¼gbar!</h3>
                    <p style="color: white; opacity: 0.9; margin-bottom: var(--space-6);">Das speziell fÃ¼r Marketing-Mitarbeiter entwickelte Dashboard bietet eine benutzerfreundliche OberflÃ¤che fÃ¼r die tÃ¤gliche Content-Verwaltung und Instagram-Automation.</p>
                    <div class="flex gap-4 justify-center">
                        <a href="/marketing-dashboard.html" class="btn btn-secondary">ğŸ“š Marketing Dashboard Ã¶ffnen</a>
                        <button onclick="showMarketingFeatures()" class="btn btn-outline" style="color: white; border-color: white;">â„¹ï¸ Features ansehen</button>
                    </div>
                </div>
            </div>

            <!-- Dashboard Cards Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div class="card">
                    <div class="card-header">
                        <h3>ğŸ“š Marketing Dashboard</h3>
                    </div>
                    <div class="card-body">
                        <p>Optimiert fÃ¼r Marketing-Mitarbeiter mit intuitive Bedienung und praxisorientierten Features.</p>
                        <ul style="list-style: none; padding: 0; margin: var(--space-4) 0;">
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Live Content Pipeline Management
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Ein-Klick Genehmigungsworkflow
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Real-time Engagement Monitoring
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Performance Analytics
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Alert-System
                            </li>
                        </ul>
                        <a href="/marketing-dashboard.html" class="btn btn-primary w-full">Jetzt nutzen â†’</a>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>ğŸš€ Enterprise Dashboard</h3>
                    </div>
                    <div class="card-body">
                        <p>Technisches Dashboard fÃ¼r Systemadministratoren und Developer mit erweiterten Funktionen.</p>
                        <ul style="list-style: none; padding: 0; margin: var(--space-4) 0;">
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> VollstÃ¤ndige Systemkonfiguration
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> API Management
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Erweiterte Analytics
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Debugging Tools
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Entwickler-Features
                            </li>
                        </ul>
                        <button onclick="showTechnicalFeatures()" class="btn btn-outline w-full">Features erkunden</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>ğŸ“± Instagram Integration</h3>
                    </div>
                    <div class="card-body">
                        <p>VollstÃ¤ndige Instagram-Automation mit intelligenten Algorithmen und Sicherheitsfeatures.</p>
                        <ul style="list-style: none; padding: 0; margin: var(--space-4) 0;">
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Automatisches Posten
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Smart Engagement
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Hashtag-Optimierung
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Account-Sicherheit
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Performance-Tracking
                            </li>
                        </ul>
                        <button onclick="checkInstagramStatus()" class="btn btn-outline w-full">Status prÃ¼fen</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>ğŸ¤– AI Content Generation</h3>
                    </div>
                    <div class="card-body">
                        <p>KI-gestÃ¼tzte Content-Erstellung basierend auf StudiBuch Magazine Artikeln.</p>
                        <ul style="list-style: none; padding: 0; margin: var(--space-4) 0;">
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Automatische Content-Anpassung
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Multi-Format UnterstÃ¼tzung
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Zielgruppen-Optimierung
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> Hashtag-Generierung
                            </li>
                            <li style="padding: var(--space-2) 0; display: flex; align-items: center; gap: var(--space-2);">
                                <span>âœ…</span> A/B Testing
                            </li>
                        </ul>
                        <button onclick="testAIGeneration()" class="btn btn-outline w-full">AI testen</button>
                    </div>
                </div>
            </div>

            <!-- System Stats -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                <div class="stat-card">
                    <div class="stat-value" id="total-posts">--</div>
                    <div class="stat-label">ğŸ“± Total Posts</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="total-followers">--</div>
                    <div class="stat-label">ğŸ‘¥ Followers</div>
                        <div class="stat-content">
                            <div class="stat-value" id="total-followers">--</div>
                            <div class="stat-label">Follower</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">â¤ï¸</div>
                        <div class="stat-content">
                            <div class="stat-value" id="total-likes">--</div>
                            <div class="stat-label">Likes heute</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“ˆ</div>
                        <div class="stat-content">
                            <div class="stat-value" id="engagement-rate">--</div>
                            <div class="stat-label">Engagement</div>
                        </div>
                    </div>
                </div>

                <div class="cards-grid">
                    <div class="card card-primary">
                        <div class="card-header">
                            <h3 class="card-title">ğŸ¥ System Health</h3>
                        </div>
                        <div class="card-content" id="system-health">
                            <div class="loading-placeholder">Lade System Status...</div>
                        </div>
                    </div>

                    <div class="card card-success">
                        <div class="card-header">
                            <h3 class="card-title">ğŸ¤– AI Services</h3>
                        </div>
                        <div class="card-content" id="ai-services">
                            <div class="loading-placeholder">Lade AI Status...</div>
                        </div>
                    </div>

                    <div class="card card-info">
                        <div class="card-header">
                            <h3 class="card-title">ğŸ“± Instagram Status</h3>
                        </div>
                        <div class="card-content" id="instagram-status">
                            <div class="loading-placeholder">Lade Instagram Status...</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- StudiBuch Magazine Management Section -->
            <section id="magazine-section" class="section">
                <div class="section-header">
                    <h2 class="section-title">ğŸ“° StudiBuch Magazin Management</h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" id="scrape-magazine">ğŸ•·ï¸ Magazin scrapen</button>
                        <button class="btn btn-secondary" id="magazine-analytics">ğŸ“Š Analytics</button>
                    </div>
                </div>

                <!-- Magazine Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“°</div>
                        <div class="stat-content">
                            <div class="stat-value" id="magazine-articles-count">--</div>
                            <div class="stat-label">Artikel verfÃ¼gbar</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ”„</div>
                        <div class="stat-content">
                            <div class="stat-value" id="magazine-modified-count">--</div>
                            <div class="stat-label">Modifiziert</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">âœ…</div>
                        <div class="stat-content">
                            <div class="stat-value" id="magazine-approved-count">--</div>
                            <div class="stat-label">Genehmigt</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸš€</div>
                        <div class="stat-content">
                            <div class="stat-value" id="magazine-published-count">--</div>
                            <div class="stat-label">VerÃ¶ffentlicht</div>
                        </div>
                    </div>
                </div>

                <!-- Magazine Articles Browser -->
                <div class="cards-grid">
                    <div class="card card-wide">
                        <div class="card-header">
                            <h3 class="card-title">ğŸ“š Magazin Artikel</h3>
                            <div class="card-actions">
                                <select id="magazine-filter-category">
                                    <option value="all">Alle Kategorien</option>
                                    <option value="studium">Studium</option>
                                    <option value="karriere">Karriere</option>
                                    <option value="tipps">Tipps</option>
                                    <option value="motivation">Motivation</option>
                                </select>
                                <select id="magazine-filter-quality">
                                    <option value="all">Alle</option>
                                    <option value="high">Hohe QualitÃ¤t</option>
                                    <option value="medium">Mittlere QualitÃ¤t</option>
                                    <option value="low">Niedrige QualitÃ¤t</option>
                                </select>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="magazine-articles-grid" id="magazine-articles-grid">
                                <div class="loading-placeholder">Lade Magazin Artikel...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Content Modification Workflow -->
                <div class="cards-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">ğŸ”„ Content Modifikation</h3>
                        </div>
                        <div class="card-content">
                            <div class="workflow-steps">
                                <div class="workflow-step">
                                    <div class="step-number">1</div>
                                    <div class="step-content">
                                        <h4>Artikel auswÃ¤hlen</h4>
                                        <p>WÃ¤hle einen Magazin-Artikel aus der Liste</p>
                                    </div>
                                </div>
                                <div class="workflow-step">
                                    <div class="step-number">2</div>
                                    <div class="step-content">
                                        <h4>Format wÃ¤hlen</h4>
                                        <p>Instagram Post, Story, Reel oder Carousel</p>
                                    </div>
                                </div>
                                <div class="workflow-step">
                                    <div class="step-number">3</div>
                                    <div class="step-content">
                                        <h4>Content anpassen</h4>
                                        <p>KI-gestÃ¼tzte Anpassung fÃ¼r Instagram</p>
                                    </div>
                                </div>
                                <div class="workflow-step">
                                    <div class="step-number">4</div>
                                    <div class="step-content">
                                        <h4>Genehmigen & Planen</h4>
                                        <p>Review und Publishing-Zeitplan</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">â³ Warteschlange</h3>
                        </div>
                        <div class="card-content">
                            <div class="queue-stats">
                                <div class="queue-item">
                                    <span class="queue-number" id="queue-pending">0</span>
                                    <span class="queue-label">Wartend auf Review</span>
                                </div>
                                <div class="queue-item">
                                    <span class="queue-number" id="queue-approved">0</span>
                                    <span class="queue-label">Genehmigt</span>
                                </div>
                                <div class="queue-item">
                                    <span class="queue-number" id="queue-scheduled">0</span>
                                    <span class="queue-label">Geplant</span>
                                </div>
                            </div>
                            <button class="btn btn-primary" id="review-queue">ğŸ“‹ Review-Queue Ã¶ffnen</button>
                        </div>
                    </div>
                </div>

                <!-- Modified Content List -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ“ Modifizierte Inhalte</h3>
                        <div class="card-actions">
                            <select id="modified-filter-format">
                                <option value="all">Alle Formate</option>
                                <option value="instagram_post">Instagram Post</option>
                                <option value="instagram_story">Instagram Story</option>
                                <option value="instagram_reel">Instagram Reel</option>
                                <option value="instagram_carousel">Instagram Carousel</option>
                            </select>
                            <select id="modified-filter-status">
                                <option value="all">Alle Status</option>
                                <option value="pending">Wartend</option>
                                <option value="approved">Genehmigt</option>
                                <option value="scheduled">Geplant</option>
                                <option value="published">VerÃ¶ffentlicht</option>
                            </select>
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="modified-content-list" id="modified-content-list">
                            <div class="loading-placeholder">Lade modifizierte Inhalte...</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Content Management Section -->
            <section id="content-section" class="section">
                <div class="section-header">
                    <h2 class="section-title">ğŸ“ Content Management</h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" id="create-content">+ Neuer Content</button>
                        <button class="btn btn-secondary" id="content-calendar">ğŸ“… Kalender</button>
                    </div>
                </div>

                <div class="filter-bar">
                    <div class="filter-group">
                        <label>Status:</label>
                        <select id="content-status-filter">
                            <option value="all">Alle</option>
                            <option value="draft">Entwurf</option>
                            <option value="scheduled">Geplant</option>
                            <option value="published">VerÃ¶ffentlicht</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Typ:</label>
                        <select id="content-type-filter">
                            <option value="all">Alle</option>
                            <option value="post">Post</option>
                            <option value="story">Story</option>
                            <option value="reel">Reel</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <input type="search" id="content-search" placeholder="Suchen...">
                    </div>
                </div>

                <div class="content-grid" id="content-grid">
                    <div class="loading-placeholder">Lade Content...</div>
                </div>

                <div id="content-modal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h3>ğŸ“ Neuer Content erstellen</h3>
                            <button class="modal-close" id="close-content-modal">&times;</button>
                        </div>
                        <div class="modal-body">
                            <form id="content-form">
                                <div class="form-group">
                                    <label for="content-title">Titel:</label>
                                    <input type="text" id="content-title" placeholder="Content Titel">
                                </div>
                                <div class="form-group">
                                    <label for="content-type">Typ:</label>
                                    <select id="content-type-select">
                                        <option value="post">Instagram Post</option>
                                        <option value="story">Instagram Story</option>
                                        <option value="reel">Instagram Reel</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="content-text">Text:</label>
                                    <textarea id="content-text" placeholder="Content Text mit Hashtags..." rows="4"></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="content-image">Bild/Video:</label>
                                    <input type="file" id="content-image" accept="image/*,video/*">
                                    <div class="file-preview" id="file-preview"></div>
                                </div>
                                <div class="form-group">
                                    <label for="content-schedule">VerÃ¶ffentlichung:</label>
                                    <input type="datetime-local" id="content-schedule">
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" id="content-ai-optimize"> 
                                        ğŸ¤– Mit KI optimieren
                                    </label>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-secondary" id="save-draft">ğŸ’¾ Als Entwurf</button>
                            <button class="btn btn-primary" id="schedule-content">ğŸ“… Planen</button>
                            <button class="btn btn-success" id="publish-now">ğŸš€ Jetzt verÃ¶ffentlichen</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Posts Management Section -->
            <section id="posts-section" class="section">
                <div class="section-header">
                    <h2 class="section-title">ğŸ“± Smart Post Scheduling</h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" id="schedule-new-post">ğŸ“… Neuen Post planen</button>
                        <button class="btn btn-secondary" id="auto-schedule-week">ğŸ¤– Woche automatisch planen</button>
                        <button class="btn btn-secondary" id="sync-posts">ğŸ”„ Synchronisieren</button>
                    </div>
                </div>

                <!-- Posting Frequency Configuration -->
                <div class="card card-wide" style="margin-bottom: 2rem;">
                    <div class="card-header">
                        <h3 class="card-title">âš™ï¸ Posting-Frequenz Konfiguration</h3>
                    </div>
                    <div class="card-content">
                        <div class="frequency-config">
                            <div class="config-item">
                                <label for="posts-per-week">Posts pro Woche:</label>
                                <select id="posts-per-week">
                                    <option value="3">3 Posts</option>
                                    <option value="4" selected>4 Posts</option>
                                    <option value="5">5 Posts</option>
                                </select>
                            </div>
                            <div class="config-item">
                                <label for="preferred-times">Bevorzugte Zeiten:</label>
                                <div class="time-picker-group">
                                    <input type="time" value="09:00" data-time="morning">
                                    <input type="time" value="15:00" data-time="afternoon">
                                    <input type="time" value="19:00" data-time="evening">
                                </div>
                            </div>
                            <div class="config-item">
                                <label for="exclude-days">Ausgeschlossene Tage:</label>
                                <div class="day-selector">
                                    <label><input type="checkbox" value="sunday"> Sonntag</label>
                                    <label><input type="checkbox" value="saturday"> Samstag</label>
                                </div>
                            </div>
                            <button class="btn btn-primary" id="save-frequency-config">ğŸ’¾ Konfiguration speichern</button>
                        </div>
                    </div>
                </div>

                <!-- Weekly Calendar View -->
                <div class="card card-wide" style="margin-bottom: 2rem;">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ“… Wochenkalender</h3>
                        <div class="card-actions">
                            <button class="btn btn-secondary" id="prev-week">â† Vorherige Woche</button>
                            <span id="current-week-display">KW 47, 2024</span>
                            <button class="btn btn-secondary" id="next-week">NÃ¤chste Woche â†’</button>
                        </div>
                    </div>
                    <div class="card-content">
                        <div class="weekly-calendar" id="weekly-calendar">
                            <div class="calendar-day" data-day="monday">
                                <div class="day-header">
                                    <span class="day-name">Montag</span>
                                    <span class="day-date">25.11</span>
                                </div>
                                <div class="day-posts" data-day="monday"></div>
                                <button class="btn btn-sm add-post-btn" data-day="monday">+ Post hinzufÃ¼gen</button>
                            </div>
                            <div class="calendar-day" data-day="tuesday">
                                <div class="day-header">
                                    <span class="day-name">Dienstag</span>
                                    <span class="day-date">26.11</span>
                                </div>
                                <div class="day-posts" data-day="tuesday"></div>
                                <button class="btn btn-sm add-post-btn" data-day="tuesday">+ Post hinzufÃ¼gen</button>
                            </div>
                            <div class="calendar-day" data-day="wednesday">
                                <div class="day-header">
                                    <span class="day-name">Mittwoch</span>
                                    <span class="day-date">27.11</span>
                                </div>
                                <div class="day-posts" data-day="wednesday"></div>
                                <button class="btn btn-sm add-post-btn" data-day="wednesday">+ Post hinzufÃ¼gen</button>
                            </div>
                            <div class="calendar-day" data-day="thursday">
                                <div class="day-header">
                                    <span class="day-name">Donnerstag</span>
                                    <span class="day-date">28.11</span>
                                </div>
                                <div class="day-posts" data-day="thursday"></div>
                                <button class="btn btn-sm add-post-btn" data-day="thursday">+ Post hinzufÃ¼gen</button>
                            </div>
                            <div class="calendar-day" data-day="friday">
                                <div class="day-header">
                                    <span class="day-name">Freitag</span>
                                    <span class="day-date">29.11</span>
                                </div>
                                <div class="day-posts" data-day="friday"></div>
                                <button class="btn btn-sm add-post-btn" data-day="friday">+ Post hinzufÃ¼gen</button>
                            </div>
                            <div class="calendar-day" data-day="saturday">
                                <div class="day-header">
                                    <span class="day-name">Samstag</span>
                                    <span class="day-date">30.11</span>
                                </div>
                                <div class="day-posts" data-day="saturday"></div>
                                <button class="btn btn-sm add-post-btn" data-day="saturday">+ Post hinzufÃ¼gen</button>
                            </div>
                            <div class="calendar-day" data-day="sunday">
                                <div class="day-header">
                                    <span class="day-name">Sonntag</span>
                                    <span class="day-date">01.12</span>
                                </div>
                                <div class="day-posts" data-day="sunday"></div>
                                <button class="btn btn-sm add-post-btn" data-day="sunday">+ Post hinzufÃ¼gen</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Post Statistics -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“±</div>
                        <div class="stat-content">
                            <div class="stat-value" id="posts-today">--</div>
                            <div class="stat-label">Posts heute</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“…</div>
                        <div class="stat-content">
                            <div class="stat-value" id="posts-scheduled">--</div>
                            <div class="stat-label">Geplant</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“</div>
                        <div class="stat-content">
                            <div class="stat-value" id="posts-draft">--</div>
                            <div class="stat-label">EntwÃ¼rfe</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ“ˆ</div>
                        <div class="stat-content">
                            <div class="stat-value" id="posts-published">--</div>
                            <div class="stat-label">VerÃ¶ffentlicht</div>
                        </div>
                    </div>
                </div>

                <!-- Upcoming Posts List -->
                <div class="cards-grid">
                    <div class="card card-wide">
                        <div class="card-header">
                            <h3 class="card-title">â° Kommende Posts</h3>
                            <div class="card-actions">
                                <select id="posts-filter">
                                    <option value="upcoming">Kommende</option>
                                    <option value="today">Heute</option>
                                    <option value="this-week">Diese Woche</option>
                                </select>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="posts-list" id="scheduled-posts-list">
                                <div class="loading-placeholder">Lade geplante Posts...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Engagement Section -->
            <section id="engagement-section" class="section">
                <div class="section-header">
                    <h2 class="section-title">â¤ï¸ Engagement Management</h2>
                    <div class="section-actions">
                        <button class="btn btn-primary" id="start-engagement">â–¶ï¸ Engagement starten</button>
                        <button class="btn btn-secondary" id="stop-engagement">â¸ï¸ Stoppen</button>
                        <button class="btn btn-warning" onclick="alert('ğŸ§ª Test-Button funktioniert!'); console.log('ğŸ§ª Enterprise Test-Button geklickt!');" style="z-index: 1000 !important; position: relative !important; pointer-events: auto !important;">ğŸ§ª Test</button>
                    </div>
                </div>

                <div class="cards-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">âš™ï¸ Engagement Einstellungen</h3>
                        </div>
                        <div class="card-content">
                            <div class="setting-group">
                                <label>Likes pro Stunde:</label>
                                <input type="range" id="likes-per-hour" min="10" max="100" value="30">
                                <span id="likes-value">30</span>
                            </div>
                            <div class="setting-group">
                                <label>Follow Rate (%):</label>
                                <input type="range" id="follow-rate" min="0" max="50" value="15">
                                <span id="follow-value">15%</span>
                            </div>
                            <div class="setting-group">
                                <label>Ziel Hashtags:</label>
                                <textarea id="target-hashtags" placeholder="#studibuch #lernen #uni #studium" rows="3"></textarea>
                            </div>
                            <div class="setting-group">
                                <label>
                                    <input type="checkbox" id="smart-engagement"> 
                                    ğŸ§  Smart Engagement (KI-gesteuert)
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">ğŸ“Š Engagement Status</h3>
                        </div>
                        <div class="card-content" id="engagement-status">
                            <div class="loading-placeholder">Lade Engagement Status...</div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">ğŸ¯ Target Accounts Management</h3>
                            <div class="card-actions">
                                <button class="btn btn-secondary btn-sm" id="test-all-accounts" style="pointer-events: auto !important; z-index: 100 !important;">ğŸ§ª Alle testen</button>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="target-accounts-header">
                                <div class="stats-row">
                                    <span><strong>5</strong> Accounts</span>
                                    <span><strong>4</strong> Aktiv</span>
                                    <span><strong>1</strong> Pausiert</span>
                                </div>
                            </div>
                            <div class="target-accounts" id="target-accounts">
                                <div class="loading-placeholder">Lade Target Accounts...</div>
                            </div>
                            <div class="target-accounts-footer">
                                <button class="btn btn-primary" id="add-target-account" style="pointer-events: auto !important; z-index: 100 !important;">+ Account hinzufÃ¼gen</button>
                                <button class="btn btn-secondary" id="import-accounts" style="pointer-events: auto !important; z-index: 100 !important;">ğŸ“‚ Import</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ“‹ Letzte AktivitÃ¤ten</h3>
                    </div>
                    <div class="card-content">
                        <div class="activity-list" id="activity-list">
                            <div class="loading-placeholder">Lade AktivitÃ¤ten...</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="analytics-section" class="section">
                <div class="section-header">
                    <h2 class="section-title">ğŸ“ˆ Analytics & Reports</h2>
                    <div class="section-actions">
                        <select id="analytics-period">
                            <option value="7d">Letzte 7 Tage</option>
                            <option value="30d">Letzte 30 Tage</option>
                            <option value="90d">Letzte 90 Tage</option>
                        </select>
                        <button class="btn btn-primary" id="export-report">ğŸ“Š Report exportieren</button>
                    </div>
                </div>

                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h4>ğŸ“ˆ Follower Wachstum</h4>
                        <div class="chart-container">
                            <div id="followers-chart">Chart wird geladen...</div>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h4>â¤ï¸ Engagement Rate</h4>
                        <div class="chart-container">
                            <div id="engagement-chart">Chart wird geladen...</div>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h4>ğŸ“± Post Performance</h4>
                        <div class="chart-container">
                            <div id="posts-chart">Chart wird geladen...</div>
                        </div>
                    </div>
                    <div class="analytics-card">
                        <h4>ğŸ• Beste Zeiten</h4>
                        <div class="best-times" id="best-times">
                            <div class="loading-placeholder">Lade Daten...</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">ğŸ“Š Detaillierte Statistiken</h3>
                    </div>
                    <div class="card-content">
                        <div class="analytics-table" id="analytics-table">
                            <div class="loading-placeholder">Lade Analytics...</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings Section -->
            <section id="settings-section" class="section">
                <div class="section-header">
                    <h2 class="section-title">âš™ï¸ System Einstellungen</h2>
                    <div class="section-actions">
                        <button class="btn btn-success" id="save-settings">ğŸ’¾ Einstellungen speichern</button>
                    </div>
                </div>

                <div class="settings-grid">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">ğŸ“± Instagram Einstellungen</h3>
                        </div>
                        <div class="card-content">
                            <div class="form-group">
                                <label for="instagram-username">Username:</label>
                                <input type="text" id="instagram-username" placeholder="@studibuch.de">
                            </div>
                            <div class="form-group">
                                <label for="instagram-password">Passwort:</label>
                                <input type="password" id="instagram-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="auto-login"> 
                                    ğŸ”‘ Automatisch einloggen
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="two-factor"> 
                                    ğŸ” 2FA aktiviert
                                </label>
                            </div>
                            <button class="btn btn-primary" id="test-connection">ğŸ”— Verbindung testen</button>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">ğŸ¤– KI Einstellungen</h3>
                        </div>
                        <div class="card-content">
                            <div class="form-group">
                                <label for="openai-key">OpenAI API Key:</label>
                                <input type="password" id="openai-key" placeholder="sk-...">
                            </div>
                            <div class="form-group">
                                <label for="gemini-key">Gemini API Key:</label>
                                <input type="password" id="gemini-key" placeholder="AI...">
                            </div>
                            <div class="form-group">
                                <label for="ai-model">Bevorzugtes Modell:</label>
                                <select id="ai-model">
                                    <option value="gpt-4">GPT-4</option>
                                    <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                                    <option value="gemini-pro">Gemini Pro</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="ai-auto-content"> 
                                    ğŸ¨ Automatische Content-Generierung
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">ğŸ¤– Automation Einstellungen</h3>
                        </div>
                        <div class="card-content">
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="auto-posting"> 
                                    ğŸ“± Automatisches Posten
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="auto-engagement"> 
                                    â¤ï¸ Automatisches Engagement
                                </label>
                            </div>
                            <div class="form-group">
                                <label>Posting Zeiten:</label>
                                <div class="time-slots">
                                    <input type="time" value="09:00"> 
                                    <input type="time" value="13:00">
                                    <input type="time" value="18:00">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="max-daily-posts">Max. Posts pro Tag:</label>
                                <input type="number" id="max-daily-posts" min="1" max="10" value="3">
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">ğŸ›¡ï¸ Sicherheits-Einstellungen</h3>
                        </div>
                        <div class="card-content">
                            <div class="form-group">
                                <label for="action-delay">VerzÃ¶gerung zwischen Aktionen (Sek):</label>
                                <input type="range" id="action-delay" min="5" max="60" value="15">
                                <span id="delay-value">15s</span>
                            </div>
                            <div class="form-group">
                                <label for="daily-limit">TÃ¤gliches Aktions-Limit:</label>
                                <input type="number" id="daily-limit" min="100" max="1000" value="500">
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="smart-limits"> 
                                    ğŸ§  Intelligente Limits (KI-gesteuert)
                                </label>
                            </div>
                            <div class="form-group">
                                <label>
                                    <input type="checkbox" id="pause-on-error"> 
                                    â¸ï¸ Bei Fehlern pausieren
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </div>
    </main>

    <div class="system-status">
        <div class="status-dot"></div>
        <span>System Online</span>
    </div>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 Riona AI Enterprise System. Entwickelt fÃ¼r Studibuch.de</p>
        </div>
    </footer>

    <div id="notifications-container"></div>

    <!-- Article Modification Modal -->
    <div id="article-modification-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>ğŸ“° Artikel fÃ¼r Instagram modifizieren</h3>
                <button class="modal-close" style="pointer-events: auto !important; z-index: 99999 !important;">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modification-form">
                    <!-- Left: Article Preview -->
                    <div class="article-preview">
                        <h4>ğŸ“„ AusgewÃ¤hlter Artikel</h4>
                        <div id="original-article-content">
                            <div class="article-meta" id="original-article-meta">
                                <span>âœï¸ StudiBuch Redaktion</span>
                                <span>ğŸ“… 23.05.2025</span>
                                <span>â±ï¸ 4 Min</span>
                            </div>
                            <h5 id="original-article-title">StudiBuch Lerntipps fÃ¼r das Wintersemester</h5>
                            <div class="article-summary" id="original-article-summary">
                                Erfolgreich durchs Studium: 10 bewÃ¤hrte Lerntipps fÃ¼r bessere Noten und entspannteres Lernen wÃ¤hrend der Klausurphase. Optimiere deine Lernstrategie und erreiche deine Studienziele.
                            </div>
                            <div class="article-image-section">
                                <h5>ğŸ¨ KI-generiertes Bild</h5>
                                <div id="generated-image-preview">
                                    <div class="generated-image-mockup">
                                        <div class="image-placeholder">
                                            <div class="ai-image-content">
                                                <h6>ğŸ“š Lerntipps fÃ¼r Studenten</h6>
                                                <div class="visual-elements">
                                                    <span>ğŸ’¡</span> <span>ğŸ“–</span> <span>ğŸ¯</span> <span>âœ¨</span>
                                                </div>
                                                <p>Moderne Instagram-Grafik</p>
                                            </div>
                                        </div>
                                        <div class="image-info">
                                            <small>ğŸ¨ Automatisch mit KI generiert â€¢ 1080x1080px</small>
                                            <br>
                                            <small style="color: var(--success-600);">âœ… Optimiert fÃ¼r Instagram Engagement</small>
                                        </div>
                                    </div>
                                </div>
                                <button class="btn btn-secondary btn-sm" onclick="window.regenerateImage()" style="pointer-events: auto !important; z-index: 100 !important;">ğŸ”„ Neues Bild generieren</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Center: Options -->
                    <div class="modification-options">
                        <h4>âš™ï¸ Instagram Optionen</h4>
                        
                        <div class="form-group">
                            <label>Format:</label>
                            <select id="target-format" onchange="window.updateInstagramPreview()" style="pointer-events: auto !important;">
                                <option value="post">ğŸ“± Instagram Post</option>
                                <option value="story">ğŸ“¸ Story</option>
                                <option value="reel">ğŸ¬ Reel</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Ton:</label>
                            <select id="content-tone" onchange="window.updateInstagramPreview()" style="pointer-events: auto !important;">
                                <option value="educational">ğŸ“š Lehrreich</option>
                                <option value="motivational">ğŸ’ª Motivierend</option>
                                <option value="casual">ğŸ˜Š Locker</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Zielgruppe:</label>
                            <select id="target-audience" onchange="window.updateInstagramPreview()" style="pointer-events: auto !important;">
                                <option value="students">ğŸ“ Studenten</option>
                                <option value="professionals">ğŸ’¼ BerufstÃ¤tige</option>
                                <option value="general">ğŸŒ Allgemein</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Max. TextlÃ¤nge:</label>
                            <input type="range" id="max-length" min="500" max="2200" value="2000" onchange="window.updateInstagramPreview(); window.updateLengthDisplay(this.value)" style="pointer-events: auto !important;">
                            <span id="length-display">2000 Zeichen</span>
                        </div>
                        
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" id="add-hashtags" checked onchange="window.updateInstagramPreview()" style="pointer-events: auto !important;">
                                ğŸ·ï¸ Hashtags hinzufÃ¼gen
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" id="add-cta" checked onchange="window.updateInstagramPreview()" style="pointer-events: auto !important;">
                                ğŸ“¢ Call-to-Action hinzufÃ¼gen
                            </label>
                        </div>
                        
                        <div class="form-group">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="checkbox" id="auto-generate-image" checked onchange="window.toggleImageGeneration()" style="pointer-events: auto !important;">
                                ğŸ¤– Automatische Bildgenerierung
                            </label>
                        </div>
                    </div>
                    
                    <!-- Right: Preview -->
                    <div class="modification-preview">
                        <h4>ğŸ“± Vorschau</h4>
                        <div id="instagram-preview">
                            <div class="preview-container">
                                <div class="instagram-post-mockup">
                                    <div class="post-header">
                                        <div class="profile-pic">ğŸ“š</div>
                                        <strong>studibuch_official</strong>
                                    </div>
                                    <div class="post-image" id="preview-image">
                                        <div class="generated-preview-image">
                                            <div class="preview-image-content">
                                                <h6>ğŸ“š Lerntipps</h6>
                                                <div class="preview-visual-elements">
                                                    <span>ğŸ’¡</span> <span>ğŸ“–</span> <span>ğŸ¯</span>
                                                </div>
                                                <p>KI-generiert</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="post-content" id="preview-content">
                                        ğŸ“š Erfolgreich durchs Studium! Diese 10 bewÃ¤hrten Lerntipps helfen dir dabei, deine Noten zu verbessern...
                                        
                                        ğŸ‘‰ Folge @studibuch_official fÃ¼r mehr Tipps!
                                        
                                        #studium #lernen #motivation #tipps #erfolg
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="preview-stats">
                            <h5>ğŸ“Š Statistiken</h5>
                            <div class="stat-row">
                                <span>Zeichen:</span> <span id="char-count">245</span>
                            </div>
                            <div class="stat-row">
                                <span>Hashtags:</span> <span id="hashtag-count">5</span>
                            </div>
                            <div class="stat-row">
                                <span>Engagement:</span> <span id="engagement-score">85%</span>
                            </div>
                            <div class="stat-row">
                                <span>Bild:</span> <span id="image-status">ğŸ¨ KI-generiert</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="window.forceCloseModal('article-modification-modal')" style="pointer-events: auto !important; z-index: 100 !important;">âŒ Abbrechen</button>
                <button class="btn btn-primary" onclick="window.previewInstagramContent()" style="pointer-events: auto !important; z-index: 100 !important;">ğŸ‘ï¸ Vorschau</button>
                <button class="btn btn-success" onclick="window.createInstagramContent()" style="pointer-events: auto !important; z-index: 100 !important;">ğŸš€ Erstellen</button>
            </div>
        </div>
    </div>

    <!-- Content Review Modal -->
    <div id="content-review-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>ğŸ“‹ Content Review</h3>
                <button class="modal-close" id="close-review-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="review-content">
                    <div class="content-info">
                        <h4 id="review-content-title">Content Titel</h4>
                        <div class="content-meta" id="review-content-meta">
                            <span class="content-format"></span>
                            <span class="content-created"></span>
                            <span class="content-source"></span>
                        </div>
                    </div>
                    
                    <div class="content-display">
                        <div class="instagram-format-display" id="review-instagram-display">
                            <!-- Modified content will be displayed here -->
                        </div>
                    </div>
                    
                    <div class="review-actions">
                        <div class="form-group">
                            <label for="review-notes">Review Notizen:</label>
                            <textarea id="review-notes" placeholder="Notizen oder VerbesserungsvorschlÃ¤ge..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="publish-schedule">VerÃ¶ffentlichung planen:</label>
                            <input type="datetime-local" id="publish-schedule">
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="reject-content">âŒ Ablehnen</button>
                <button class="btn btn-warning" id="request-changes">ğŸ”„ Ã„nderungen anfordern</button>
                <button class="btn btn-success" id="approve-content">âœ… Genehmigen</button>
                <button class="btn btn-primary" id="approve-and-schedule">ğŸš€ Genehmigen & Planen</button>
            </div>
        </div>
    </div>

    <!-- Post Scheduling Modal -->
    <div id="post-scheduling-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>ğŸ“… Neuen Post planen</h3>
                <button class="modal-close" id="close-schedule-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="scheduling-form">
                    <div class="form-section">
                        <h4>ğŸ“ Post Content</h4>
                        <div class="form-group">
                            <label for="post-title">Titel:</label>
                            <input type="text" id="post-title" placeholder="Post Titel eingeben..." required>
                        </div>
                        <div class="form-group">
                            <label for="post-content">Content:</label>
                            <textarea id="post-content" rows="6" placeholder="Post Content eingeben..." required></textarea>
                            <div class="content-stats">
                                <span id="char-count">0/2200 Zeichen</span>
                                <span id="hashtag-count">0 Hashtags</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="post-hashtags">Hashtags:</label>
                            <input type="text" id="post-hashtags" placeholder="#studium #motivation #lernen" data-role="tagsinput">
                        </div>
                    </div>

                    <div class="form-section">
                        <h4>ğŸ“… Zeitplanung</h4>
                        <div class="form-group">
                            <label for="schedule-date">Datum:</label>
                            <input type="date" id="schedule-date" required>
                        </div>
                        <div class="form-group">
                            <label for="schedule-time">Uhrzeit:</label>
                            <input type="time" id="schedule-time" required>
                        </div>
                        <div class="form-group">
                            <label for="post-priority">PrioritÃ¤t:</label>
                            <select id="post-priority">
                                <option value="low">Niedrig</option>
                                <option value="medium" selected>Mittel</option>
                                <option value="high">Hoch</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-section">
                        <h4>ğŸ“± Platform & Preview</h4>
                        <div class="form-group">
                            <label for="post-platform">Platform:</label>
                            <select id="post-platform">
                                <option value="instagram" selected>Instagram</option>
                                <option value="facebook">Facebook</option>
                                <option value="twitter">Twitter</option>
                            </select>
                        </div>
                        <div class="post-preview" id="post-preview">
                            <div class="preview-placeholder">
                                Content Preview wird hier angezeigt...
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="save-draft">ğŸ’¾ Als Entwurf speichern</button>
                <button class="btn btn-primary" id="schedule-post">ğŸ“… Post planen</button>
            </div>
        </div>
    </div>

    <!-- Post Preview Modal -->
    <div id="post-preview-modal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>ğŸ‘ï¸ Post Vorschau</h3>
                <button class="modal-close" id="close-preview-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="preview-container">
                    <div class="preview-left">
                        <div class="instagram-mockup">
                            <div class="instagram-header">
                                <div class="profile-pic">ğŸ“š</div>
                                <div class="profile-info">
                                    <span class="username">studibuch.de</span>
                                    <span class="location">Deutschland</span>
                                </div>
                            </div>
                            <div class="instagram-image">
                                <div class="placeholder-image">ğŸ“¸ Bild wird hier angezeigt</div>
                            </div>
                            <div class="instagram-content">
                                <div class="engagement-buttons">
                                    <span>â¤ï¸ ğŸ‘† ğŸ’¬ ğŸ“¤</span>
                                </div>
                                <div class="content-text" id="preview-content-text">
                                    Post Content wird hier angezeigt...
                                </div>
                                <div class="hashtags" id="preview-hashtags">
                                    #hashtags #werden #hier #angezeigt
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="preview-right">
                        <div class="preview-stats">
                            <h4>ğŸ“Š Vorausgesagte Performance</h4>
                            <div class="stat-item">
                                <span>GeschÃ¤tzte Reichweite:</span>
                                <span id="estimated-reach">850-1200</span>
                            </div>
                            <div class="stat-item">
                                <span>Erwartetes Engagement:</span>
                                <span id="estimated-engagement">35-45 Likes</span>
                            </div>
                            <div class="stat-item">
                                <span>Beste Posting Zeit:</span>
                                <span id="optimal-time">15:00-19:00</span>
                            </div>
                        </div>
                        <div class="preview-suggestions">
                            <h4>ğŸ’¡ VerbesserungsvorschlÃ¤ge</h4>
                            <ul id="content-suggestions">
                                <li>FÃ¼ge eine Frage hinzu fÃ¼r mehr Engagement</li>
                                <li>Verwende 2-3 zusÃ¤tzliche relevante Hashtags</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="edit-post">âœï¸ Bearbeiten</button>
                <button class="btn btn-primary" id="confirm-schedule">âœ… BestÃ¤tigen & Planen</button>
            </div>
        </div>
    </div>

    <script>
        // Post Scheduling System
        class PostScheduler {
            constructor() {
                this.currentWeek = new Date();
                this.scheduledPosts = [];
                this.initialize();
            }

            initialize() {
                this.setupEventListeners();
                this.loadScheduledPosts();
                this.loadPostStats();
                this.updateCalendar();
            }

            setupEventListeners() {
                // Main buttons
                document.getElementById('schedule-new-post')?.addEventListener('click', () => this.openScheduleModal());
                document.getElementById('auto-schedule-week')?.addEventListener('click', () => this.autoScheduleWeek());
                document.getElementById('save-frequency-config')?.addEventListener('click', () => this.saveFrequencyConfig());

                // Calendar navigation
                document.getElementById('prev-week')?.addEventListener('click', () => this.navigateWeek(-1));
                document.getElementById('next-week')?.addEventListener('click', () => this.navigateWeek(1));

                // Modal handlers
                document.getElementById('close-schedule-modal')?.addEventListener('click', () => this.closeModal('post-scheduling-modal'));
                document.getElementById('schedule-post')?.addEventListener('click', () => this.schedulePost());
                document.getElementById('save-draft')?.addEventListener('click', () => this.saveDraft());

                // Post content handlers
                document.getElementById('post-content')?.addEventListener('input', () => this.updateContentStats());
                document.getElementById('post-hashtags')?.addEventListener('input', () => this.updateContentStats());

                // Calendar add post buttons
                document.querySelectorAll('.add-post-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const day = e.target.dataset.day;
                        this.openScheduleModal(day);
                    });
                });
            }

            async loadScheduledPosts() {
                try {
                    const response = await fetch('/api/scheduler/posts?period=upcoming');
                    const data = await response.json();
                    if (data.success) {
                        this.scheduledPosts = data.data;
                        this.updateCalendar();
                        this.updatePostsList();
                    }
                } catch (error) {
                    console.error('Failed to load scheduled posts:', error);
                }
            }

            async loadPostStats() {
                try {
                    const response = await fetch('/api/scheduler/stats');
                    const data = await response.json();
                    if (data.success) {
                        const stats = data.data;
                        document.getElementById('posts-today').textContent = stats.today;
                        document.getElementById('posts-scheduled').textContent = stats.scheduled;
                        document.getElementById('posts-draft').textContent = '5'; // Mock
                        document.getElementById('posts-published').textContent = stats.posted;
                    }
                } catch (error) {
                    console.error('Failed to load post stats:', error);
                }
            }

            updateCalendar() {
                const calendar = this.getWeeklyCalendar();
                
                // Update week display
                const weekStart = this.getWeekStart(this.currentWeek);
                const weekEnd = new Date(weekStart);
                weekEnd.setDate(weekEnd.getDate() + 6);
                const weekNum = this.getWeekNumber(weekStart);
                
                document.getElementById('current-week-display').textContent = 
                    `KW ${weekNum}, ${weekStart.getFullYear()}`;

                // Update calendar days
                const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
                days.forEach((day, index) => {
                    const dayElement = document.querySelector(`[data-day="${day}"]`);
                    const date = new Date(weekStart);
                    date.setDate(weekStart.getDate() + index);
                    
                    // Update date display
                    const dateDisplay = dayElement.querySelector('.day-date');
                    dateDisplay.textContent = `${date.getDate()}.${date.getMonth() + 1}`;
                    
                    // Update posts for this day
                    const postsContainer = dayElement.querySelector('.day-posts');
                    const dayPosts = calendar[day] || [];
                    
                    postsContainer.innerHTML = '';
                    dayPosts.forEach(post => {
                        const postElement = this.createPostElement(post);
                        postsContainer.appendChild(postElement);
                    });
                });
            }

            getWeeklyCalendar() {
                const weekStart = this.getWeekStart(this.currentWeek);
                const weekEnd = new Date(weekStart);
                weekEnd.setDate(weekEnd.getDate() + 7);

                const calendar = {
                    monday: [], tuesday: [], wednesday: [], thursday: [],
                    friday: [], saturday: [], sunday: []
                };

                const dayNames = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];

                this.scheduledPosts.forEach(post => {
                    const postDate = new Date(post.scheduledFor);
                    if (postDate >= weekStart && postDate < weekEnd) {
                        const dayName = dayNames[postDate.getDay()];
                        calendar[dayName].push(post);
                    }
                });

                return calendar;
            }

            createPostElement(post) {
                const element = document.createElement('div');
                element.className = 'calendar-post';
                element.innerHTML = `
                    <div class="post-time">${new Date(post.scheduledFor).toLocaleTimeString('de-DE', {hour: '2-digit', minute: '2-digit'})}</div>
                    <div class="post-title">${post.title}</div>
                    <div class="post-priority priority-${post.priority}"></div>
                    <div class="post-actions">
                        <button onclick="postScheduler.previewPost('${post.id}')" class="btn btn-sm">ğŸ‘ï¸</button>
                        <button onclick="postScheduler.editPost('${post.id}')" class="btn btn-sm">âœï¸</button>
                        <button onclick="postScheduler.deletePost('${post.id}')" class="btn btn-sm">ğŸ—‘ï¸</button>
                    </div>
                `;
                return element;
            }

            openScheduleModal(day = null) {
                const modal = document.getElementById('post-scheduling-modal');
                modal.style.display = 'block';

                // If a specific day is selected, pre-fill the date
                if (day) {
                    const dayDate = this.getDateForDay(day);
                    document.getElementById('schedule-date').value = dayDate.toISOString().split('T')[0];
                    document.getElementById('schedule-time').value = '09:00';
                }

                // Reset form
                document.getElementById('post-title').value = '';
                document.getElementById('post-content').value = '';
                document.getElementById('post-hashtags').value = '';
                this.updateContentStats();
            }

            closeModal(modalId) {
                document.getElementById(modalId).style.display = 'none';
            }

            async schedulePost() {
                const title = document.getElementById('post-title').value;
                const content = document.getElementById('post-content').value;
                const hashtags = document.getElementById('post-hashtags').value.split(/[\s,]+/).filter(h => h.startsWith('#'));
                const date = document.getElementById('schedule-date').value;
                const time = document.getElementById('schedule-time').value;
                const priority = document.getElementById('post-priority').value;
                const platform = document.getElementById('post-platform').value;

                if (!title || !content || !date || !time) {
                    alert('Bitte fÃ¼llen Sie alle Pflichtfelder aus.');
                    return;
                }

                const scheduledFor = new Date(`${date}T${time}`);

                try {
                    const response = await fetch('/api/scheduler/schedule', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            title, content, hashtags, scheduledFor, priority, platform
                        })
                    });

                    const data = await response.json();
                    if (data.success) {
                        this.closeModal('post-scheduling-modal');
                        this.loadScheduledPosts();
                        this.showSuccessMessage('Post erfolgreich geplant!');
                    } else {
                        alert('Fehler beim Planen des Posts: ' + data.error.message);
                    }
                } catch (error) {
                    console.error('Failed to schedule post:', error);
                    alert('Fehler beim Planen des Posts.');
                }
            }

            async autoScheduleWeek() {
                try {
                    const response = await fetch('/api/scheduler/auto-schedule', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            contentIds: ['content1', 'content2', 'content3', 'content4']
                        })
                    });

                    const data = await response.json();
                    if (data.success) {
                        this.loadScheduledPosts();
                        this.showSuccessMessage(`${data.data.length} Posts automatisch geplant!`);
                    }
                } catch (error) {
                    console.error('Auto-schedule failed:', error);
                }
            }

            async saveFrequencyConfig() {
                const postsPerWeek = document.getElementById('posts-per-week').value;
                const preferredTimes = Array.from(document.querySelectorAll('.time-picker-group input')).map(input => input.value);
                const excludeDays = Array.from(document.querySelectorAll('.day-selector input:checked')).map(cb => cb.value);

                try {
                    const response = await fetch('/api/scheduler/frequency', {
                        method: 'PUT',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({
                            postsPerWeek: parseInt(postsPerWeek),
                            preferredTimes,
                            excludeDays
                        })
                    });

                    const data = await response.json();
                    if (data.success) {
                        this.showSuccessMessage('Konfiguration gespeichert!');
                    }
                } catch (error) {
                    console.error('Failed to save config:', error);
                }
            }

            updateContentStats() {
                const content = document.getElementById('post-content').value;
                const hashtags = document.getElementById('post-hashtags').value;
                
                const charCount = content.length;
                const hashtagCount = hashtags.split(/[\s,]+/).filter(h => h.startsWith('#')).length;
                
                document.getElementById('char-count').textContent = `${charCount}/2200 Zeichen`;
                document.getElementById('hashtag-count').textContent = `${hashtagCount} Hashtags`;
            }

            navigateWeek(direction) {
                this.currentWeek.setDate(this.currentWeek.getDate() + (direction * 7));
                this.updateCalendar();
            }

            getWeekStart(date) {
                const start = new Date(date);
                const day = start.getDay();
                const diff = start.getDate() - day + (day === 0 ? -6 : 1); // Monday start
                start.setDate(diff);
                start.setHours(0, 0, 0, 0);
                return start;
            }

            getWeekNumber(date) {
                const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));
                const dayNum = d.getUTCDay() || 7;
                d.setUTCDate(d.getUTCDate() + 4 - dayNum);
                const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));
                return Math.ceil((((d - yearStart) / 86400000) + 1) / 7);
            }

            getDateForDay(dayName) {
                const weekStart = this.getWeekStart(this.currentWeek);
                const dayIndex = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'].indexOf(dayName);
                const date = new Date(weekStart);
                date.setDate(weekStart.getDate() + dayIndex);
                return date;
            }

            showSuccessMessage(message) {
                // Create and show success notification
                const notification = document.createElement('div');
                notification.className = 'success-notification';
                notification.textContent = message;
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: #10b981;
                    color: white;
                    padding: 1rem 2rem;
                    border-radius: 0.5rem;
                    z-index: 10000;
                    animation: slideIn 0.3s ease;
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.animation = 'slideOut 0.3s ease';
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            }

            updatePostsList() {
                const container = document.getElementById('scheduled-posts-list');
                container.innerHTML = '';

                if (this.scheduledPosts.length === 0) {
                    container.innerHTML = '<div class="empty-state">Keine geplanten Posts gefunden.</div>';
                    return;
                }

                this.scheduledPosts.forEach(post => {
                    const postElement = document.createElement('div');
                    postElement.className = 'scheduled-post-item';
                    postElement.innerHTML = `
                        <div class="post-info">
                            <h4>${post.title}</h4>
                            <p>${post.content.substring(0, 100)}...</p>
                            <div class="post-meta">
                                <span>ğŸ“… ${new Date(post.scheduledFor).toLocaleString('de-DE')}</span>
                                <span>ğŸ“± ${post.platform}</span>
                                <span class="priority-${post.priority}">â­ ${post.priority}</span>
                            </div>
                        </div>
                        <div class="post-actions">
                            <button onclick="postScheduler.previewPost('${post.id}')" class="btn btn-sm">ğŸ‘ï¸ Vorschau</button>
                            <button onclick="postScheduler.editPost('${post.id}')" class="btn btn-sm">âœï¸ Bearbeiten</button>
                            <button onclick="postScheduler.deletePost('${post.id}')" class="btn btn-sm btn-danger">ğŸ—‘ï¸ LÃ¶schen</button>
                        </div>
                    `;
                    container.appendChild(postElement);
                });
            }

            async deletePost(postId) {
                if (!confirm('Sind Sie sicher, dass Sie diesen Post lÃ¶schen mÃ¶chten?')) return;

                try {
                    const response = await fetch(`/api/scheduler/posts/${postId}`, {
                        method: 'DELETE'
                    });

                    const data = await response.json();
                    if (data.success) {
                        this.loadScheduledPosts();
                        this.showSuccessMessage('Post gelÃ¶scht!');
                    }
                } catch (error) {
                    console.error('Failed to delete post:', error);
                }
            }

            previewPost(postId) {
                const post = this.scheduledPosts.find(p => p.id === postId);
                if (!post) return;

                // Implement post preview modal
                alert(`Post Vorschau:\n\n${post.title}\n\n${post.content}\n\nGeplant fÃ¼r: ${new Date(post.scheduledFor).toLocaleString('de-DE')}`);
            }

            editPost(postId) {
                // Implement post editing
                alert('Post bearbeiten - Feature wird implementiert');
            }
        }

        // Initialize post scheduler when DOM is loaded
        let postScheduler;
        document.addEventListener('DOMContentLoaded', function() {
            postScheduler = new PostScheduler();
        });

        // Auto-hide redirect notice after 10 seconds
        setTimeout(() => {
            const notice = document.getElementById('redirect-notice');
            if (notice) {
                notice.style.transform = 'translateX(-50%) translateY(-100%)';
                setTimeout(() => notice.remove(), 300);
            }
        }, 10000);

        // Dashboard Navigation functions... (keeping existing functions)
        function showMarketingFeatures() {
            alert('Marketing Dashboard Features:\n\nğŸ“Š Live-Ãœbersicht aller AktivitÃ¤ten\nğŸ“ Content Pipeline Management\nğŸ’¬ Live Engagement Monitoring\nğŸ“ˆ Performance Analytics\nğŸš¨ Alert-System fÃ¼r wichtige Ereignisse\nâš¡ Notfall-Kontrollen');
        }

        function showTechnicalFeatures() {
            alert('Enterprise Dashboard Features:\n\nâš™ï¸ VollstÃ¤ndige Systemkonfiguration\nğŸ”§ API Management\nğŸ“Š Erweiterte Analytics\nğŸ› Debugging Tools\nğŸ‘¨â€ğŸ’» Entwickler-Features\nğŸ”’ Sicherheitseinstellungen');
        }

        async function checkInstagramStatus() {
            try {
                const response = await fetch('/api/instagram/status');
                const data = await response.json();
                if (data.success) {
                    alert(`Instagram Status:\n\nVerbindung: ${data.data.connection}\nAutomation: ${data.data.automation}\nFollower: ${data.data.account.followers}\nLetztes Update: ${new Date(data.meta.lastChecked).toLocaleString()}`);
                }
            } catch (error) {
                alert('Fehler beim Abrufen des Instagram Status');
            }
        }

        async function testAIGeneration() {
            try {
                const response = await fetch('/api/ai/status');
                const data = await response.json();
                if (data.success) {
                    alert(`AI Services Status:\n\nOpenAI: ${data.data.openai.status}\nGemini: ${data.data.gemini.status}\nContent Generation: ${data.data.contentGeneration.active ? 'Aktiv' : 'Inaktiv'}\nErfolgsrate: ${data.data.contentGeneration.successRate}`);
                }
            } catch (error) {
                alert('Fehler beim Abrufen des AI Status');
            }
        }

        // Load dashboard stats
        async function loadDashboardStats() {
            try {
                const response = await fetch('/api/dashboard/stats');
                const data = await response.json();
                if (data.success) {
                    document.getElementById('total-posts').textContent = data.data.totalPosts;
                    document.getElementById('total-followers').textContent = data.data.totalFollowers;
                    document.getElementById('total-likes').textContent = data.data.totalLikes;
                    document.getElementById('engagement-rate').textContent = data.data.engagementTrend;
                }
            } catch (error) {
                console.error('Failed to load dashboard stats:', error);
            }
        }

        // Load system health
        async function loadSystemHealth() {
            try {
                const [health, ai, instagram] = await Promise.all([
                    fetch('/api/health'),
                    fetch('/api/ai/status'),
                    fetch('/api/instagram/status')
                ]);

                const healthData = await health.json();
                const aiData = await ai.json();
                const instagramData = await instagram.json();

                // Update system health
                document.getElementById('system-health').innerHTML = `
                    <div class="health-item">
                        <span class="health-status ${healthData.success ? 'healthy' : 'unhealthy'}">${healthData.success ? 'ğŸŸ¢' : 'ğŸ”´'}</span>
                        <span>System: ${healthData.success ? 'Healthy' : 'Unhealthy'}</span>
                    </div>
                    <div class="health-item">
                        <span>Uptime: ${Math.floor(healthData.data.uptime / 3600)}h</span>
                    </div>
                `;

                // Update AI services
                document.getElementById('ai-services').innerHTML = `
                    <div class="service-item">
                        <span>OpenAI: ${aiData.data.openai.status}</span>
                        <span>${aiData.data.openai.model}</span>
                    </div>
                    <div class="service-item">
                        <span>Gemini: ${aiData.data.gemini.status}</span>
                        <span>${aiData.data.gemini.model}</span>
                    </div>
                `;

                // Update Instagram status
                document.getElementById('instagram-status').innerHTML = `
                    <div class="instagram-item">
                        <span>Verbindung: ${instagramData.data.connection}</span>
                    </div>
                    <div class="instagram-item">
                        <span>Follower: ${instagramData.data.account.followers}</span>
                    </div>
                    <div class="instagram-item">
                        <span>Posts: ${instagramData.data.account.posts}</span>
                    </div>
                `;

            } catch (error) {
                console.error('Failed to load system health:', error);
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadDashboardStats();
            loadSystemHealth();
            
            // Refresh every 30 seconds
            setInterval(() => {
                loadDashboardStats();
                loadSystemHealth();
            }, 30000);
        });
    </script>
    <script src="/js/app.js" defer></script>
    <script src="/js/modal-fixes.js" defer></script>
</body>
</html>                                                      